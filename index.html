

<link href='http://fonts.googleapis.com/css?family=Sorts+Mill+Goudy' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
<script src="plugins/noframework.waypoints.js"></script>
<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="plugins/jquery-ui.js"></script>
<script src="https://cdn.jsdelivr.net/velocity/1.2.1/velocity.min.js"></script>

<!DOCTYPE html>
<head>
<style type="text/css">
	/*Responsive design :D*/
	@media screen and (max-width: 1570px) { /* Specific to this particular image */
  		.welcomePage {
    		font-size: .8em;

  		}

  	}
	.welcomePage{
		background: black;
		width: 100%;
		height: 100%;
		z-index: 3;
		position: absolute;
		top: 0;
	}

	.welcomePage h1{
		position: absolute;
		top: 25%;
		left: 0;
		right: 0;
		text-align: center;
		letter-spacing: 8;
		text-transform: uppercase;
		font-size: 5em;
		/*font-family: 'Sorts Mill Goudy', serif;*/
		font-family: 'Lato', sans-serif;
		color: white;
		margin-top: 0px;
		margin-bottom: 0px;
		/*animate to move to 35% */
	}
	.welcomeContainer{
		position: absolute;
		top: 40%;
		width: 100%;
		height: 25%;
		overflow: hidden;
	}

	.landingPageWrapper{
		position: relative;
	}
	.landingPageBackground{
		background-size: cover;
		position: relative;
		width: auto;
		height: 100%;
		background-repeat: no-repeat;
		/*background-color: darkseagreen;
		background-color: black;*/

		background-color: rgb(10, 8, 8);
		/* rgb(20,21,23)*/
	}
	.landingPageOverlay{
		background-image: url(images/GarrettOnBridgeEdit.png);
		background-size: cover;
		background-repeat: no-repeat;
		/*Was 15 em */
		background-position: 0 700;
		width: 100%;
		height: 100%;
		position: relative;
		bottom: 50%;
	/*opacity: .65;*/
	}

	.header{
		z-index: 2;
		background-image: url(images/coverPageImage.jpg);
		background-size: cover;
		background-repeat: no-repeat;
		/*Was 15 em */
		background-position: 0 0px;
		position: fixed;
		width: 105%;
		/*Was previously 90% and had a nice effect */
		/*height: 105%;*/
		height: 105%;
		top: 0px;
		right: 0px;
		margin-top: -10px;
		margin-right: -10px;
		/*-webkit-filter: blur(4px);*/
		/*position: relative;*/
		/*margin: 0px auto;*/
	}

	.content{
		width: 100%;
		/*rgb(102, 57, 57);*/
		background: rgb(45, 42, 42);
		height: 3000px;
		margin: 200px auto;
	}

	.nameWrapper{
		z-index: 6;
		border: solid 6px;
		text-align: center;
		position: absolute;
		/*margin-right: auto;
		margin-left: auto;*/
		left: 0;
		right: 0;
		width: 10em;
		color: white;
		/*font-weight: 100;*/
		letter-spacing: 8;
		text-transform: uppercase;
		font-size: 30px;
		/*Was originally 40%*/
		top: 25%;
		/*22em*/
		/*opacity: .6;*/
		/*font-family: 'Sorts Mill Goudy', serif;*/
			font-family: 'Lato', sans-serif;
	}

	.mainContent{
		position: relative;
	}

	.titles{
		width: 100%;
		z-index: 2;
		/*Was previously absolute*/
		position: absolute;
		/*top 25%*/
		padding-top: 1.5%;
		padding-bottom: 25;
		/*background: rgb(45, 42, 42);*/
		opacity: .9;
		/*Was previously 32% */
		top: 35%;
		font-weight: 100;
		letter-spacing: 8;
		font-size: 20px;
		text-transform: uppercase;
		color: white;
		/*font-family: 'Sorts Mill Goudy', serif;*/
		font-family: 'Lato', sans-serif;
	}

	.titles table, tr{
		width: 100%;
	}

	.titles table, thead{
		color: white;
	}

	.titles li{
		padding-top: 0;
		list-style: none;
		cursor: pointer;
		text-align: left;
		background: none;
		width: 100%;
		/*-webkit-transition: 1s ease-in-out;*/
	}

	.titles ul{
		padding-left: 0px;
	}

	.titles  li:hover{

		/*-webkit-transform: skewY(.6deg);*/
	}

	.topNavs h1{
		font-size: 5em;
		color: white;
		font-weight: 700;
		font-family: 'Lato', sans-serif;

	}

	.topNavs li{
		background: none;
		padding: 0;
		float: left;
		width: auto;
	}

	.topNavs {
		left: 5%;
		position: absolute;
		display: none;
		margin: 0;
		opacity: .9;
	}

	.sitesMade h1{
		font-size: 1em;
		color: white;
		font-weight: 700;
		font-family: 'Lato', sans-serif;

	}

	.sitesMade li{
		background: none;
		padding: 0;
		/*float: left;
		width: auto;*/
	}

	.sitesMade a{
		text-decoration: inherit;
	}

	.sitesMade a:hover {
		color: white;
		text-decoration: underline;
	}

	.sitesMade {
		position: absolute;
		display: none;
		opacity: .9;
		margin:0;
		left: 0;
		right: 0;
		top: 45%;

	}

	.spriteAnim{
		position: absolute;
	}
	.toNextPage {
		position: absolute;
		margin-right: auto;
		margin-left: auto;
		left: 0;
		right: 0;
		z-index: 4;
		display: none;
		top: 89%;
		opacity: .6;
		cursor: pointer;
	}
	.webdevPage{
		position: absolute;
		top: 100%;
		height: 100%;
		width: 100%;
		font-family: 'Sorts Mill Goudy', serif;
		font-size: 30;
		background-image: url(images/dothatch.png);
		/*padding-top: 5%;*/
	}

	.aStatement{
		position: absolute;
		top: 0%;
		opacity: .9;
		color: white;
		left: 0;
		right: 0;
		width: 100%;
		height: 100%;
		display: none;
		text-align: center;
	}

	.leftNav{
		z-index: 2;
		position: fixed;
		top: 10%;
		height: 90%;
		width: 10%;
		display: none;
		letter-spacing: 8;
		font-size: 30px;
		text-transform: uppercase;
		font-family: 'Sorts Mill Goudy', serif;
	}

	.leftNav ul {
    display:block;
    font-family: 'Sorts Mill Goudy', serif;
   
	}

	li {
    	width:100%;
	    padding-top: 50%;
	    text-align:center;
	    list-style:none;
	    cursor:pointer;
	    background: black;
	}

	.leftNav table{
		color: white;
		background: black;
	}

	.leftNav th{
		border: solid 4px;
	}

	.leftNav h1{
		padding-top: 30%;
		padding-bottom: 30%;
	}
	.gradient_test{
		position: absolute;
	}

	.contactInfo{
		background: black;
		position: fixed;
		top: 90%;
		width: 100%;
		height: 10%;
		z-index: 3;
		opacity: .9;
	}

	.video{
		width: 100%;
		height: 110%;
		opacity: .7;
		/*opacity: .7*/;
	}

	body{
    	margin-right: 0px;
    	margin-left: 0px;
    	margin-top: 0px;
    	margin-bottom: 0px;
    	/*hide display bar for Firefox */
    	overflow-y: hidden;
	}
	/* Hide display bar for Chrome */
	::-webkit-scrollbar { 
    display: none; 
	}

	/* 1366 x 768 */
	@media screen and (max-width: 1366px) and (max-height: 768px){
		.toNextPage{
			top: 87%;
		}
		.webdevPage{
			top: 50%;
		}
	}
	/* 1000 x 550 "Minimized Screen"*/
	@media screen and (max-width: 1000px) , (max-height: 550px){
		.toNextPage{
			top: 88%;
			height: 15%
		}

		.titles{
			font-size: .9em;
		}
		.welcomePage {
    		font-size: .5em;
  		}
  		.nameWrapper{
  			font-size: 1.5em;
  		}
		.webdevPage{
			top: 50%;
		}
	}
	/*Media Queries for Mobile iPhones */
	@media only screen and (min-device-width : 320px) and (max-device-width : 568px) and ( orientation : portrait) {
	 /* STYLES GO HERE */ 
  		.nameWrapper {
  			top: 0;
  			margin-right: auto;
  			margin-left: auto;

  		}

  		.titles{
  			top: 15%;
  			font-size: .7em;
  			color: honeydew;
  		}

  		.titles li{
  			text-align: center;
  		}
  		
  		.contactInfo{
  			top: 80%;
  			height: 25%;
  		}

  		.welcomeContainer h1{
  			font-size: 1.35em;
  		}
	}

</style>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>



<div class="welcomePage" id="welcomePage">
	<div class="welcomeContainer" id="welcomeContainer">
			<h1 id="welcomeTitle">Frontend\Backend Web Developer.</h1>	
	</div>
</div>
<div class="header" id="pOverlay">
	<div class="topNavs" id="topNavs">
		<ul>	
			<li id="gameDevNav"><h1>[webdev]</h1></li>
		</ul>
	</div>
</div>
<div  class="content">
	<h1  id="name-waypoint" class="nameWrapper"> Eric Smith </h1>
	<div class="titles" id="titles">
		<!-- <table>
			<thead>
				<tr>
					<th><h1>Front/Backend Web Developer</h1></th>

				</tr>
				<tr>
					<th><h1>Game Developer</h1></th>
				</tr>
				<tr>
					<th><h1>Artist</h1></th>
				</tr>
			</thead>

		</table>-->
	<ul>
		<li id="webDevTitle"><h1>Frontend\Backend Web Developer</h1></li>
		<li id="gameDevTitle"><h1>Game Developer</h1></li>
		<li id="historyDevTitle"><h1>History Scholar</h1></li>
		<li id="artDevTitle"><h1>Artist</h1></li>
	</ul>
	<!-- <img class="spriteAnim" src="images/NoraRedesignTransparent.png"> -->
	</div>
	<img class="toNextPage" id="toNextPage" src="images/down128white.png">
	<div class="leftNav" id="leftNav">
			<table>
				<tr>
					<th>
						<h1> Home </h1>
					</th>
				</tr>
				<tr>
					<th>
						<h1> About </h1>
					</th>
				</tr>
					
				<tr>
					<th>
						<h1> Events </h1>
					</th>
				</tr>

				<tr>
					<th>
						<h1> Projects </h1>
					</th>
				</tr>
			</table>
	</div>
	<div id="webdevPage" class="webdevPage">
			<div class="aStatement" id="aStatement">
				<img class="video" src="images/bruceLee.gif">
			</div>
			<div class="sitesMade" id="sitesMade">
				<ul>
					<li><a target="_blank" href="http://seanavery.herokuapp.com"><h1> EmoFunk Launch </h1></a></li>
					<li><a target="_blank" href="http://thetreehousefilm.com"><h1> TheTreeHouseFilm Launch and Review </h1></a></li>
					<li><a target="_blank" href="http://metobs.ssec.wisc.edu/aoss/gps/"><h1> GAMIS Monitoring Image Viewer </h1></a></li>
					<li><a target="_blank" href="http://metobs.ssec.wisc.edu/aoss/gps/"><h1> CRIS Instrument Image Viewer </h1></a></li>
				<ul>
			</div>
	</div> 
</div>
<div class="contactInfo">
</div>
<!-- <div id="content"> 
  <div class = "landingPageBackground">
</div> 
	

</div> -->

<script>
	console.log("Width of the current web browser viewport: " + $(window).width());
	console.log("Height of the current web browser viewport: " + $(window).height());
	var fixPosition = false;
	var initScroll = false;
	var initHeight = 500;
	var initCheckNameWaypoint = false;
	//Relates to specific times we can check mouse scrolls. Using this to scrolljack
	var canCheckMouse = true;
	var mousewheelValue = 0;
	var isWelcomeAnimDone = false;
	//Relates to whether or not we can scroll at all.
	var canScroll = false;
	var hitNextButton1 = false;

	//Page state defines what page the user is currently at. 0 represents the landing page
	var pageState = 0;

	/*====== WATCHING CSS MEDIA QUERIES ========= */
	 var mobile = window.matchMedia("only screen and (min-device-width : 320px) and (max-device-width : 568px) and ( orientation : portrait)"); 

	/*if(fixPosition == true)
	{
		var p1 = document.getElementById("pOverlay");
		p1.style.position = "fixed";
	}*/
	window.onload = checkBotPosition;

	//Hovering Cover Page Links
	$(document).ready(function(){
		//padding vars as determined by screenHeight
		$("#webDevTitle").hover(function(){
			$("#webDevTitle").css("background-color", "rgb(45, 42, 42)");
			$("#webDevTitle").velocity({
				paddingTop: 20,
				paddingBottom: 20
			}, 200, "easeOutCubic");

		}, function(){
			$("#webDevTitle").css("background-color", "transparent");
			$("#webDevTitle").velocity({
				paddingTop: 0,
				paddingBottom: 0
			}, 100, "easeOutCubic");
		});

		$("#gameDevTitle").hover(function(){
			$("#gameDevTitle").css("background-color", "rgb(45, 42, 42)");

			$("#gameDevTitle").velocity({
				paddingTop: 20,
				paddingBottom: 20
			}, 200, "easeOutCubic");
		}, function(){
			$("#gameDevTitle").css("background-color", "transparent");

			$("#gameDevTitle").velocity({
				paddingTop: 0,
				paddingBottom: 0
			}, 100, "easeOutCubic");
		});

		$("#historyDevTitle").hover(function(){
			$("#historyDevTitle").css("background-color", "rgb(45, 42, 42)");

			$("#historyDevTitle").velocity({
				paddingTop: 20,
				paddingBottom: 20
			}, 200, "easeOutCubic");
		}, function(){
			$("#historyDevTitle").css("background-color", "transparent");

			$("#historyDevTitle").velocity({
				paddingTop: 0,
				paddingBottom: 0
			}, 100, "easeOutCubic");
		});

		$("#artDevTitle").hover(function(){
			$("#artDevTitle").css("background-color", "rgb(45, 42, 42)");

			$("#artDevTitle").velocity({
				paddingTop: 20,
				paddingBottom: 20
			}, 200, "easeOutCubic");
		}, function(){
			$("#artDevTitle").css("background-color", "transparent");

			$("#artDevTitle").velocity({
				paddingTop: 0,
				paddingBottom: 0
			}, 100, "easeOutCubic");
		});

		/*======================== WELCOME PAGE ANIMATION ======================*/
		setTimeout(loopInitTitle, 2000);

		function loopInitTitle(){
			$("#welcomeTitle").velocity({
				top: "-37%"
			}, 400, function(){
			$("#welcomeTitle").remove();
			});
		}

		var finesseSet =["Game Developer.", "History Scholar.", "Artist."];
		var loopPos = 0;
		var loopTime = 2500;
		var scrollCntrSpd = 400;
		var scrollCntrStay = 200;
		var scrollTopSpd = 400;

		setTimeout(loopTitles, loopTime);

		function loopTitles(){

			//Debug
			//console.log(loopPos);
			
			//Create header element with title info
			var h = document.createElement("H1");
			var t = document.createTextNode(finesseSet[loopPos]);
			h.setAttribute("id", "welcomeTitle");
			h.appendChild(t);
			document.getElementById("welcomeContainer").appendChild(h);
			h.style.top = "100%";

			var nextTitleTransition = scrollTopSpd + scrollCntrStay + scrollCntrSpd + 300;
			//Animate the header element to center
			console.log("Element created");
			loopTime = nextTitleTransition;
			$("#welcomeTitle").velocity({
				top: "25%"
			}, scrollCntrSpd, function(){
				console.log("Animating Title");
				setTimeout(scrollTitleUp, scrollCntrStay + 500);
				if(loopPos < finesseSet.length - 1)
				{
					console.log(loopTime);
					loopPos++;
					setTimeout(loopTitles, loopTime);
				}
				else
				{
					isWelcomeAnimDone = true;
				}
				
			});


			//alert("Appending Text");
			
			//Doing this to account for the init image that needs to be scrolled up.
			//loopTime = 2400;
			/*if(loopPos > finesseSet.length - 1)
			{
				destroyInterval();
			}*/
		}

		function scrollTitleUp(){
			console.log(loopPos);
			$("#welcomeTitle").velocity({
				top: "-37%"
			}, scrollTopSpd, function(){
			$("#welcomeTitle").remove();
			});
			if(isWelcomeAnimDone)
			{
				console.log("Finished Welcome Page Animation");
				$("#welcomePage").fadeOut(500, function(){
					canScroll = true;
					//Manipulating blur effect
					if(!mobile.matches){
					$({blurRadius: 0}).animate({blurRadius: 5}, {
        				duration: 500,
        				easing: 'swing', // or "linear"
                         // use jQuery UI or Easing plugin for more options
        				step: function() {
            				console.log(this.blurRadius);
            				$('#pOverlay').css({
                			"-webkit-filter": "blur("+this.blurRadius+"px)",
                			"filter": "blur("+this.blurRadius+"px)"
            				});
        				}
    				});
					}
				});

				$("#toNextPage").fadeTo(200, .6);
			}
		}

		function destroyInterval(){
			clearTimeout(titleLoop);

		}

	});

	

  function checkBotPosition(){
  	var p1 = document.getElementById("pOverlay");
  	var position = p1.style.backgroundPosition;
  }

  function parseBackgroundPosY(backPos){
  	posArr = backPos.split(" ");
  	//console.log(posArr.length);
  	var posY;

  	if(posArr.length != 1)
  	{
  		posY = parseInt(posArr[1].split("px"));
  		//console.log("direct posY: " + posY);
  	}
  	 return posY;
  }


  //Using Waypoints
  var waypointNameHit = false;
  if(waypointNameHit)
  {

  }
 new Waypoint({
  element: document.getElementById('name-waypoint'),
  handler: function() {
  	/*$(window).scroll(function() {
	/*
	This is the bread and butter of the scroll. Basically with the name as a waypoint you will scroll down towards the next waypoint until the name hits the very top
	thus the yOffset should also be changing as well.
	*/
   /* $('html,body').animate({
        scrollTop: 500
    }, 800);
    console.log("WORKING");
    alert("Hit!" + this.triggerPoint);
	});*/
 	if(!initCheckNameWaypoint)
 	{
 		waypointNameHit = true;	
 		//var name  = document.getElementById('name-waypoint');
 		//name.style.position = "fixed";
 		initCheckNameWaypoint = false;
 	} 
 	 //alert("Value of waypoint hit: " + waypointNameHit);
  },
  offset: "5%"
});

 /*$(window).scroll(function() {
 	if(waypointNameHit == false)
 	{
 		var x = document.getElementsByTagName("BODY")[0];
 		x.style.overflow = "hidden";
 		$('html,body').animate({
        	scrollTop: 800
    	}, 1200);
    	waypointNameHit = true;
 	}
 });*/


 function parallax_scroll(e){
 	//Process pass in the object e.
 	console.log("What's e: " + e.originalEvent.detail);
 	console.log("Can we check mouse wheel?: " + canCheckMouse);
 	var x = document.getElementsByTagName("BODY")[0];
 	x.style.overflow = "hidden";
 	//$(window).off('mousewheel');
    if(canCheckMouse)
    {
    if((e.originalEvent.wheelDelta > 0 || e.originalEvent.detail < 0) && pageState == 1)
    {
      //console.log("moveup");
      	//Toggle the listener for the window scroll off	
      	canCheckMouse = false;
     	//if(waypointNameHit == true)
 		//{
	 		console.log("Scrolling Up");
	 		//$("#pOverlay").finish();
	 		//Hide the navigation panel
	    	//$('#leftNav').fadeOut(200);
	    	$('#aStatement').fadeOut(200);
	    	$('#topNavs').fadeOut(200);
	    	$('#sitesMade').fadeOut(200);

	 		$('html,body').animate({
	        	scrollTop: 0
	    	}, 1200, function(){
	    		waypointNameHit = false;
	    		canCheckMouse = true;
	    	});
	 		//Change the width of the waypoint for scrolling up
	    	/*$('#name-waypoint').animate({
	    		width: "10em"
	    	}, 1200)*/
	    	//Scroll Background image
	    	$('#pOverlay').animate({
	    		height: "105%",
	    		backgroundPositionY: 5
	    	}, 1200,  function(){
	    		waypointNameHit = false;
	    		canCheckMouse = true;
	    		pageState = 0;
	    		//Fade the Titles In
	    		$({blurRadius: 5}).animate({blurRadius: 5}, {
        				duration: 500,
        				easing: 'swing', // or "linear"
                         // use jQuery UI or Easing plugin for more options
        				step: function() {
            				console.log(this.blurRadius);
            				$('#pOverlay').css({
                			"-webkit-filter": "blur("+this.blurRadius+"px)",
                			"filter": "blur("+this.blurRadius+"px)"
            				});
        				}
    				});
	    		fadeInTitle();
	    	});
	    	console.log("Finished Scroll");
 		//}
 		//else
 		//{
 			//canCheckMouse = true;
 		//}
 		console.log("Value of waypointNameHit: " + waypointNameHit);
 		console.log("Value of mousewheel" + e.originalEvent.wheelDelta);
    }
    else if((e.originalEvent.wheelDelta < 0 || e.originalEvent.detail > 0 || hitNextButton1 == true) && pageState == 0)
    {
    	canCheckMouse = false;
       // if(waypointNameHit == false)
 		//{
 			console.log("Scrolling Down");
 			$('#toNextPage').fadeOut(200);
 			var p = $('#webdevPage').position();
 			$('html,body').animate({
	        	scrollTop: 430
	    	}, 1200,  function(){
	    		waypointNameHit = true;
	    		canCheckMouse = true;
	    	});
 			//Change the width of the waypoint for scrolling down
	    	/*$('#name-waypoint').animate({
	    		width: "15em"
	    	}, 1200)*/
	    	$('#pOverlay').animate({
	    		//Change to 10% for banner effect
	    		height: "0%",
	    		backgroundPositionY: -400
	    	}, 1200,  function(){
	    		waypointNameHit = true;
	    		canCheckMouse = true;
	    		//Display the navigation panel
	    		$({blurRadius: 5}).animate({blurRadius: 0}, {
        				duration: 500,
        				easing: 'swing', // or "linear"
                         // use jQuery UI or Easing plugin for more options
        				step: function() {
            				console.log(this.blurRadius);
            				$('#pOverlay').css({
                			"-webkit-filter": "blur("+this.blurRadius+"px)",
                			"filter": "blur("+this.blurRadius+"px)"
            				});
        				}
    				});
	    		var topNav = document.getElementById
	    		$('#topNavs').fadeIn(200);
	    		$('#aStatement').fadeTo('slow', .9);
	    		$('#sitesMade').fadeIn(200);
	    		pageState = 1;	
	    	});
	    	//Responsive desigin for 1366 by 768
	    	if($(window).width() == 1366){
	    		$("#webdevPage").animate({
	 				top: "50%"
	 			}, 1200);
	    	}
	    	else{
	    		$("#webdevPage").animate({
	 				top: "40%"
	 			}, 1200);
	    	}
	    	
	    	/*$("#gFlies").animate({
	 				marginBottom: "50%"
	 			}, 1200);*/

	    	console.log("Finished Scroll");
 		//}
 		//else
 		//{
 		//	canCheckMouse = true;
 		//}
 		console.log("Value of waypointNameHit: " + waypointNameHit);
 		console.log("Value of mousewheel" + e.originalEvent.wheelDelta);
    }
    else
    {
    	console.log("Firefox bug test: nothing occurs " + e.originalEvent.detail);
    }
	}
}
function fadeOutTitle(){
	//if(pageState == 0)
	//{
		//$('#titles').fadeTo('fast', 1);
		$('#titles').fadeOut(600);
		$("#name-waypoint").fadeOut(600);
	//}
}
function fadeInTitle(){
	//if(pageState == 1)
	//{
		$('#titles').fadeTo('1200', .9);
		$("#name-waypoint").fadeIn(600);
		$('#toNextPage').fadeIn(200);
		//$('#titles').fadeIn(1200);
	//}
}

//Handles the events for Chrome/Safari. They both use -webkit
$(window).on('mousewheel DOMMouseScroll wheel', function(e){
	if(canScroll){
	 	if(pageState == 0)
	 	{
	 	 //Scrolling down to state 0
	  	 parallax_scroll(e);
	  	 if(e.originalEvent.wheelDelta < 0 || e.originalEvent.detail > 0)
	  	 {
	  	 	fadeOutTitle();
	  	 }
	  	/* else
	  	 {
	  	 	fadeInTitle();
	  	 }*/
	  	}
	  	if(pageState == 1)
	  	{
	  		 if(e.originalEvent.wheelDelta > 0 || e.originalEvent.detail  < 0)
	  		 {
	  		 	//Scrolling up to state 0. That is handled in this function
	  		 	 parallax_scroll(e);
	  		 	 //fadeInTitle();
	  		 }
	  	}
  }

});
//Handle moving on to nextPage if the user clicks waypoint
$('#toNextPage').on('click', function(e){
	if(canScroll){
		fadeOutTitle();
		parallax_scroll(e);
		hitNextButton1 = true;
	  }
});

</script>

<script>
	/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 */
(function($) {
    // backgroundPosition[X,Y] get hooks
    var $div = $('<div style="background-position: 3px 5px">');
    $.support.backgroundPosition   = $div.css('backgroundPosition')  === "3px 5px" ? true : false;
    $.support.backgroundPositionXY = $div.css('backgroundPositionX') === "3px" ? true : false;
    $div = null;

    var xy = ["X","Y"];

    // helper function to parse out the X and Y values from backgroundPosition
    function parseBgPos(bgPos) {
        var parts  = bgPos.split(/\s/),
            values = {
                "X": parts[0],
                "Y": parts[1]
            };
        return values;
    }

    if (!$.support.backgroundPosition && $.support.backgroundPositionXY) {
        $.cssHooks.backgroundPosition = {
            get: function( elem, computed, extra ) {
                return $.map(xy, function( l, i ) {
                    return $.css(elem, "backgroundPosition" + l);
                }).join(" ");
            },
            set: function( elem, value ) {
                $.each(xy, function( i, l ) {
                    var values = parseBgPos(value);
                    elem.style[ "backgroundPosition" + l ] = values[ l ];
                });
            }
        };
    }

    if ($.support.backgroundPosition && !$.support.backgroundPositionXY) {
        $.each(xy, function( i, l ) {
            $.cssHooks[ "backgroundPosition" + l ] = {
                get: function( elem, computed, extra ) {
                    var values = parseBgPos( $.css(elem, "backgroundPosition") );
                    return values[ l ];
                },
                set: function( elem, value ) {
                    var values = parseBgPos( $.css(elem, "backgroundPosition") ),
                        isX = l === "X";
                    elem.style.backgroundPosition = (isX ? value : values[ "X" ]) + " " + 
                                                    (isX ? values[ "Y" ] : value);
                }
            };
            $.fx.step[ "backgroundPosition" + l ] = function( fx ) {
                $.cssHooks[ "backgroundPosition" + l ].set( fx.elem, fx.now + fx.unit );
            };
        });
    }
})(jQuery);
</script>
</html>

<!-- Example code -->
<!--
<p><button id="scroll">scrollTop()</button></p>

<div id="test"></div>

$(window).scroll(function() {

	
	/** This is the bread and butter of the scroll. Basically with the name as a waypoint you will scroll down towards the next waypoint until the name hits the very top
	thus the yOffset should also be changing as well.
    $('html,body').animate({
        scrollTop: $('#test').css('top')
    }, 800);
});

#test {
    width: 100px;
    height: 100px;
    position: relative;
    top: 2000px;
    background: green;
} -->